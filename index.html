<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mystic Manes Halters</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="#" onclick="showPage('home')" class="nav-brand">
                    <img src="images/logo.png" alt="Mystic Manes Logo" class="logo-image">
                </a>
                <ul class="nav-menu">
                    <li><a href="#" onclick="showPage('home')" class="nav-link">Home</a></li>
                    <li><a href="#" onclick="showPage('shop')" class="nav-link">Shop</a></li>
                    <li><a href="#" onclick="showPage('about')" class="nav-link">About</a></li>
                    <!-- New Sizing Guide Link -->
                    <li><a href="#" onclick="showPage('sizing')" class="nav-link">Sizing Guide</a></li>
                    <li>
                        <a href="#" onclick="showPage('cart')" class="nav-link cart-link">
                            <i class="fas fa-shopping-cart"></i> Cart <span id="cart-counter" class="cart-counter">0</span>
                        </a>
                    </li>
                    <li><a href="#" onclick="showPage('checkout')" class="nav-link"><i class="fas fa-user"></i> Account</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Home Page -->
        <div id="home" class="page">
            <section class="hero">
                <h1 class="hero-title">Craft Your Dream Halter</h1>
                <p class="hero-subtitle">Design a one-of-a-kind rope halter with vibrant colors that reflect your horse's unique personality.</p>
                <a href="#" onclick="showPage('shop')" class="btn btn-primary">Start Creating <i class="fas fa-arrow-right"></i></a>
            </section>
        </div>

        <!-- Shop Page -->
        <div id="shop" class="page hidden">
            <h2 class="section-title">Design Your Perfect Halter</h2>
            <div class="shop-grid">
                <div class="halter-visualizer">
                    <div class="halter-preview">
                        <img src="images/halter-base.png" alt="Base halter" class="halter-layer">
                        <img id="noseband-image" src="images/noseband-default.png" alt="Noseband" class="halter-layer">
                        <img id="cheekpieces-image" src="images/cheekpieces-default.png" alt="Cheek Pieces" class="halter-layer">
                    </div>
                </div>
                <div class="customization-panel card">
                    <!-- New Size Selection -->
                    <div class="size-section">
                        <h3><i class="fas fa-ruler-combined"></i> Halter Size</h3>
                        <select id="halter-size" class="form-input">
                            <option value="">Select a Size</option>
                            <option value="X-Full">X-Full</option>
                            <option value="Full">Full</option>
                            <option value="Cob">Cob</option>
                            <option value="Pony">Pony</option>
                            <option value="Foal">Foal</option>
                        </select>
                    </div>
                    <div class="color-section">
                        <h3><i class="fas fa-palette"></i> Noseband Color</h3>
                        <div id="noseband-colors" class="color-swatches"></div>
                    </div>
                    <div class="color-section">
                        <h3><i class="fas fa-palette"></i> Cheek Pieces Color</h3>
                        <div id="cheekpieces-colors" class="color-swatches"></div>
                    </div>
                    <div class="product-info">
                        <h3>Custom Rope Halter</h3>
                        <div class="price" id="product-price">R250.00</div>
                        <button id="add-to-cart-btn" class="btn btn-primary full-width"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        <div id="cart-feedback-message" class="status-message hidden"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sizing Guide Page -->
        <div id="sizing" class="page hidden">
            <div class="card" style="max-width: 800px; margin: auto;">
                <h2 class="section-title">Halter Sizing Guide</h2>
                <p class="text-center mb-4">Use the measurements below to find the perfect fit for your horse. Measure around the nose, about two fingers below the cheekbone.</p>
                <table class="sizing-table">
                    <thead>
                        <tr>
                            <th>Size</th>
                            <th>Noseband Circumference (cm)</th>
                            <th>Typical Breed Examples</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>X-Full</td>
                            <td>70 - 75 cm</td>
                            <td>Large Warmbloods, Drafts</td>
                        </tr>
                        <tr>
                            <td>Full</td>
                            <td>65 - 70 cm</td>
                            <td>Thoroughbred, Quarter Horse</td>
                        </tr>
                        <tr>
                            <td>Cob</td>
                            <td>60 - 65 cm</td>
                            <td>Arabian, Morgan, Large Ponies</td>
                        </tr>
                        <tr>
                            <td>Pony</td>
                            <td>55 - 60 cm</td>
                            <td>Standard Ponies</td>
                        </tr>
                        <tr>
                            <td>Foal</td>
                            <td>50 - 55 cm</td>
                            <td>Foals and Miniature Horses</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Cart Page -->
        <div id="cart" class="page hidden">
            <h2 class="section-title">Your Shopping Cart</h2>
            <div id="cart-items-container"></div>
            <div id="empty-cart-message" class="text-center hidden">
                <i class="fas fa-shopping-cart empty-cart-icon"></i>
                <p>Your cart is empty.</p>
            </div>
            <div id="cart-summary" class="card hidden" style="max-width: 600px; margin: 2rem auto;">
                <div class="summary-row total">
                    <span>Total:</span>
                    <span id="cart-total">R0.00</span>
                </div>
                <button onclick="showPage('checkout')" class="btn btn-primary full-width mt-3">Proceed to Checkout</button>
            </div>
        </div>

        <!-- About Page -->
        <div id="about" class="page hidden">
            <div class="card about-content">
                <h2 class="section-title">Our Story</h2>
                <p class="story-text">Welcome! I'm the creator behind Mystic Manes. My journey started with my own horse, my real-life unicorn. I wanted a halter as strong and unique as our bond, so I decided to make my own.</p>
            </div>
        </div>

        <!-- Checkout Page -->
        <div id="checkout" class="page hidden">
            <h2 class="section-title">Account & Checkout</h2>
            <div class="auth-container card">
                <section id="auth-section">
                    <form id="login-form" class="auth-form">
                        <h3>Login to Your Account</h3>
                        <div class="form-group"><label for="login-email" class="form-label">Email</label><input type="email" id="login-email" class="form-input" required></div>
                        <div class="form-group">
                            <label for="login-password" class="form-label">Password</label>
                            <input type="password" id="login-password" class="form-input" required>
                            <a href="#" onclick="handleForgotPassword()" class="forgot-password-link">Forgot Password?</a>
                        </div>
                        <button type="submit" class="btn btn-primary full-width">Login</button>
                    </form>
                    <div class="auth-divider"><span>OR</span></div>
                    <form id="signup-form" class="auth-form">
                        <h3>Create a New Account</h3>
                        <div class="form-group"><label for="signup-email" class="form-label">Email</label><input type="email" id="signup-email" class="form-input" required></div>
                        <div class="form-group"><label for="signup-password" class="form-label">Password</label><input type="password" id="signup-password" class="form-input" required></div>
                        <button type="submit" class="btn btn-secondary full-width">Sign Up</button>
                    </form>
                    <div id="auth-error-message" class="status-message status-error hidden"></div>
                </section>
                
                <section id="checkout-section" class="hidden">
                    <div class="user-header mb-3">
                        <p>Welcome, <span id="user-email-display" class="font-weight-600"></span></p>
                        <button id="logout-btn" class="btn btn-secondary">Logout</button>
                    </div>
                    <form id="order-form">
                        <h3>Shipping Information</h3>
                        <div class="form-group"><label for="shipping-name" class="form-label">Full Name</label><input type="text" id="shipping-name" class="form-input" required></div>
                        <div class="form-group"><label for="shipping-address" class="form-label">Address</label><input type="text" id="shipping-address" class="form-input" required></div>
                        <div class="payment-info">
                            <p>Your order total is <strong id="total-payment-amount">R0.00</strong>.</p>
                            <p class="font-weight-600">No orders will be processed without Proof of Payment being emailed to <strong>courtsbdressage@gmail.com</strong>.</p>
                        </div>
                        <button type="submit" class="btn btn-primary full-width">Place Order</button>
                        <div id="order-status-message" class="status-message hidden mt-2"></div>
                    </form>
                </section>
            </div>
        </div>

        <!-- Thank You Page -->
        <div id="thank-you" class="page hidden">
            <div class="card text-center" style="max-width: 700px; margin: 2rem auto;">
                <h2 class="section-title">Thank You! ðŸŽ‰</h2>
                <p class="hero-subtitle">Your order has been placed successfully. Someone will be in touch within the next 12 hours to confirm your order.</p>
                <p class="font-weight-600">Please remember to email your Proof of Payment to courtsbdressage@gmail.com to finalize your order.</p>
                <button onclick="showPage('home')" class="btn btn-primary mt-3">Back to Home</button>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2025 Mystic Manes Halters. All rights reserved.</p>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script> ```
#### 2. Correct the JavaScript
    <script src="js/app.js"></script>
</body>
</html>